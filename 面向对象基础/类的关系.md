# 类的六大类关系

- 继承，Generalization：<|--
- 实现，Realization：<|..
- 关联，Association：<--
- 组合，Composition：*--
- 聚合，Aggregation：o--
- 依赖，Dependency：<..

## 一. 继承

继承是面向对象的三大特征之一，是一种最能体现面向对象代码复用的类关系，对于继承，可以使用`is a`来表示。比如男人(class Man)"is a"人(class Person), 是对人(class Person)的进一步刻画，那么这两个类就是“继承”关系。

- 【泛化关系】：是一种继承关系，表示一般与特殊的关系，它指定了子类如何特化父类的所有特征和行为。例如：老虎是动物的一种，即有老虎的特性也有动物的共性。
-【箭头指向】：带三角箭头的实线，箭头指向父类

```cpp
class Man : public Person
{
    // 子类扩展属性
}//
```

## 二. 实现

实现对应的是面向对象中的"接口"，即动物都要移动，但是每种移动的方式不一样，鸟要实现自己独有的移动的方法。
在C++中，接口通过的纯虚函数来实现，C++的多态就是通过虚函数来实现的。

- c++s表象形式：子类有虚函数(纯虚函数)，父类实现子类的虚方法。
- 【实现关系】：是一种类与接口的关系，表示类是接口所有特征和行为的实现.
-【箭头指向】：带三角箭头的虚线，箭头指向接口

```cpp
class Animal{
public:
    virtual void move();
};

class Bird : pubic Animal{
    void move(){
        // 鸟的移动方式，飞
    }
};
```

## 三. 组合

组合是将一个对象（部分）放到另一个对象里（组合）。它是一种 "has-a" 的关系。相比"聚合"，组合是一种强所属关系，组合关系的两个对象往往具有相同的生命周期，被组合的对象是在组合对象创建的同时或者创建之后创建，在组合对象销毁之前销毁。一般来说被组合对象不能脱离组合对象独立存在，而且也只能属于一个组合对象。比如，鸟类和翅膀类就是组合关系，在创建一个鸟类对象时，一定要同时或之后创建一个翅膀类对象，销毁一个鸟类对象时，一定要先同时或之前销毁翅膀对象。

- c++表现形式：一个类作为另外类的成员变量。

-【组合关系】：是整体与部分的关系，但部分不能离开整体而单独存在。如公司和部门是整体和部分的关系，没有公司就不存在部门。

> 组合关系是关联关系的一种，是比聚合关系还要强的关系，它要求普通的聚合关系中代表整体的对象负责代表部分的对象的生命周期。

- 【代码体现】：成员变量
- 【箭头及指向】：带实心菱形的实线，菱形指向整体

```cpp
class Wing{
};

class Bird{
    Wing wing;
}
```

## 四. 聚合

聚合是一种弱所属关系，比如一只大雁和雁群，就是一种"聚合"关系。和组合相比，被聚合的对象可以属于多个聚合对象，比如，一只大雁可能属于多个雁群。

- C++表现形式：一个类的指针变量作为另外类的成员变量。

- 【聚合关系】：是整体与部分的关系，且部分可以离开整体而单独存在。如车和轮胎是整体和部分的关系，轮胎离开车仍然可以存在。

> 聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。

- 【代码体现】：成员变量
- 【箭头及指向】：带空心菱形的实心线，菱形指向整体

```cpp
class Goose{
}

class Geese{
public:
    Goose member[10];
}
```

## 五. 关联

 关联也是一种弱关系，但并不是从属关系，关联的连个的类可以看作是平等的，比如一只大雁和老鹰的关系，就可以看作关联关系

- C++代码体现： 其他类指针类型的成员来实现关联。

- 【关联关系】：是一种拥有的关系，它使一个类知道另一个类的属性和方法；如：老师与学生，丈夫与妻子关联可以是双向的，也可以是单向的。双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。
- 【代码体现】：成员变量
- 【箭头及指向】：带普通箭头的实心线，指向被拥有者

```cpp
class Egle{
    class Goose *food;
};
class Goose{
    class Egle *predator;
};
```

## 六. 依赖

一个对象的某种行为依赖于另一个类，比如，大雁的迁徙行为受季节影响，那么，大雁和季节就会有"依赖"关系。

C++语法中，通过将一个类作为另一类方法的参数的形式实现两个类之间的依赖关系

- c++表现形式：类作为函数参数

- 【依赖关系】：是一种使用的关系，即一个类的实现需要另一个类的协助，所以要尽量不使用双向的互相依赖.
- 【代码表现】：局部变量、方法的参数或者对静态方法的调用
- 【箭头及指向】：带箭头的虚线，指向被使用者

```cpp
class Season{

};

class Goose {
public:
    // 或者 migrate(Season* season);
    // 或者 Migrate(Season& season);
    void migrate(Season season);
};
```

## 参考引文

1. [c++类之间的关系及实现](https://www.cnblogs.com/h-hg/p/8784232.html)
2. [（转载）依赖、关联、聚合、组合](https://blog.csdn.net/lwwl12/article/details/82463441)